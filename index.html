<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Your Name | Portfolio„ÉªBlog„ÉªPolls„ÉªInteractive</title>
  <meta name="description" content="Ashley Studio" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üóÇÔ∏è</text></svg>">
  <style>
    :root{
      --bg:#ffffff;--card:#f8fafc;--text:#0f172a;--muted:#475569;--brand:#2563eb;--brand-2:#1d4ed8;--line:#e2e8f0;--ok:#16a34a;--warn:#f59e0b;--danger:#dc2626
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji; color:var(--text); background:var(--bg)}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:16px 0}
    .brand{font-weight:800;font-size:20px}
    .nav{display:flex;gap:12px;flex-wrap:wrap}
    .nav a{padding:8px 12px;border:1px solid var(--line);border-radius:999px;color:var(--muted)}
    .hero{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px}
    .headline{position:relative;height:320px;border-radius:12px;overflow:hidden;background:#000}
    .headline-slide{position:absolute;inset:0;display:none}
    .headline-slide.active{display:block}
    .headline-slide img{width:100%;height:100%;object-fit:cover;filter:brightness(0.8)}
    .headline-caption{position:absolute;left:16px;bottom:16px;right:16px;color:#fff;background:rgba(0,0,0,.45);padding:12px 16px;border-radius:10px}
    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}

    /* Profile / Resume */
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px}
    .profile{display:flex;gap:16px;align-items:center}
    .avatar{width:72px;height:72px;border-radius:50%;object-fit:cover;border:2px solid #fff;box-shadow:0 2px 8px rgba(0,0,0,.08)}

    /* Tabs */
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .tab{padding:8px 12px;border:1px solid var(--line);border-radius:999px;background:#fff;color:var(--muted);cursor:pointer}
    .tab.active{background:var(--brand);color:#fff;border-color:var(--brand)}

    /* Posts list */
    .post{display:flex;gap:12px;padding:12px;border-bottom:1px solid var(--line)}
    .post:last-child{border-bottom:none}
    .thumb{width:120px;height:80px;border-radius:10px;object-fit:cover}
    .post h4{margin:0 0 6px 0}
    .meta{font-size:12px;color:var(--muted)}

    /* Poll */
    .poll-option{display:flex;align-items:center;gap:10px;margin:8px 0}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .btn.primary{background:var(--brand);color:#fff;border-color:var(--brand)}
    .progress{height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}
    .bar{height:100%;background:var(--brand-2)}

    /* Article modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;padding:16px}
    .modal.open{display:flex}
    .modal-card{background:#fff;max-width:1060px;width:100%;max-height:90vh;overflow:auto;border-radius:16px;border:1px solid var(--line)}
    .modal-head{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--line)}
    .modal-body{padding:16px}
    
    /* Message box */
    #messageBox {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      background-color: var(--ok);
      color: #fff;
      padding: 12px 24px;
      border-radius: 999px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }
    #messageBox.show {
      opacity: 1;
      visibility: visible;
    }

    /* Interactions */
    .interact{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:16px}
    .chip{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--line);border-radius:999px;padding:6px 10px;cursor:pointer;color:var(--muted)}
    .chip.liked{background:#eef2ff;border-color:#c7d2fe;color:#3730a3}
    .comments{margin-top:14px}
    .comment{border-top:1px solid var(--line);padding:10px 0}
    .comment:first-child{border-top:none}

    /* Floating contact */
    .float-contact{position:fixed;right:16px;bottom:16px;background:var(--ok);color:#fff;padding:12px 14px;border-radius:999px;box-shadow:0 8px 24px rgba(22,163,74,.35);display:flex;gap:8px;align-items:center}

    footer{color:var(--muted);font-size:12px;padding:24px 0}
    .small{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">Ashley LiuÔΩúPortfolio & Blog</div>
      <nav class="nav">
        <a href="#posts">Articles</a>
        <a href="#polls">Polls</a>
        <a href="https://www.linkedin.com/in/ashleytingyuliu/" target="_blank" rel="noopener">LinkedIn</a>
      </nav>
    </header>

    <section class="hero" id="top">
      <div class="headline" id="headline"></div>
      <!-- <div class="small" style="margin-top:8px">Headline: Displays up to 5 articles marked as isHeadline</div> -->
    </section>

    <div class="grid" style="margin-top:16px">
      <section class="card" id="posts">
        <h3 style="margin:0 0 4px 0">Articles & Categories</h3>
        <div class="tabs" id="tabs"></div>
        <div id="postList" style="margin-top:8px"></div>
      </section>

      <aside class="card" id="resume">
        <h3 style="margin-top:0">About Me</h3>
        <div class="profile">
          <img class="avatar" src="./avatar.jpg" alt="avatar" onerror="this.src='https://picsum.photos/200'" />
          <div>
            <div style="font-weight:700">Ashley Liu</div>
            <div class="small">GTMÔΩúProduct StrategyÔΩúB2B Software</div>
            <div style="margin-top:8px">
              <a class="btn" href="https://www.linkedin.com/in/your-linkedin" target="_blank" rel="noopener">LinkedIn</a>
              <a class="btn" href="./resume_ashley_liu.pdf" target="_blank" rel="noopener">Resume</a>
            </div>
          </div>
        </div>
        <hr style="border:none;border-top:1px solid var(--line);margin:16px 0" />
        <section id="polls">
          <h4 style="margin:0 0 8px 0">Homepage Polls</h4>
          <div id="pollContainer"></div>
        </section>
      </aside>
    </div>

    <footer>
      ¬© <span id="year"></span> Ashley Liu. All rights reserved.
    </footer>
  </div>

  <!-- Article Modal -->
  <div class="modal" id="articleModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <strong id="modalTitle">Article Title</strong>
        <button class="btn" id="closeModal">Close</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
    </div>
  </div>
  
  <!-- Message Box -->
  <div id="messageBox"></div>

  <!-- Floating contact button -->
  <a class="float-contact" href="mailto:a0937084398@gmail.com?subject=Request a talk" aria-label="email">
    <span>‚úâÔ∏è Contact Me</span>
  </a>

  <!-- Website Logic -->
  <script type="module">
    // ======= Content Data (You only need to update here) =======
    const DATA = {
      categories: ["Business","Technology","Self-Reflection"],
      posts: [
        {
          id: "2025-08-10-hello-world",
          title: "My Headline Article: AI and GTM Strategy",
          date: "2025-08-10",
          category: "Technology",
          coverImage: "https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1600&auto=format&fit=crop",
          summary: "A complete consideration from pipeline to performance.",
          isHeadline: false,
          content: `
            <p>This is a sample article content. You can paste long articles directly into the <code>content</code> field, or load Markdown converted to HTML.</p>
            <p>Supports <strong>bold</strong>, <em>italic</em>, and links.</p>
          `,
          likes: 5,
        },
        {
          id: "2025-08-12-business-notes",
          title: "The Intersection of Investment and Product",
          date: "2025-08-12",
          category: "Business",
          coverImage: "https://images.unsplash.com/photo-1553729459-efe14ef6055d?q=80&w=1600&auto=format&fit=crop",
          summary: "How to correct business models and product decisions with each other.",
          isHeadline: false,
          content: `<p>Sample paragraph for business thinking and product implementation.</p>`,
          likes: 12,
        },
        {
          id: "2025-08-14-life-habits",
          title: "The $70B CRM Market is Being Disrupted Right Now",
          date: "2025-08-14",
          category: "Technology",
          coverImage: "https://images.unsplash.com/photo-1506784983877-45594efa4cbe?q=80&w=1600&auto=format&fit=crop",
          summary: "How AI transforms B2B GTM software",
          isHeadline: true,
          content: `<div class="content">
            <p class="intro-lead">

            <p>
            While everyone's talking about ChatGPT and AI art, something more fundamental is happening in B2B software. The entire CRM industry is being rebuilt from scratch, and most business leaders haven't noticed yet.</p>

            <p>I've spent 8 years in go-to-market roles, helped scale 200+ startups, and built AI-powered GTM software at Google that generated $2B in opportunities. What I'm seeing now in the CRM space reminds me of the early days of cloud computing. The shift is inevitable, massive, and happening faster than most people realize.</p>

            <p>Here's what I'm seeing and why smart investors should pay attention.</p>

            <h2>The Problem Every Sales Team Knows But Won't Say Out Loud</h2>

            <p><strong>Your CRM is broken.</strong> Not technically broken, but fundamentally flawed for how modern sales actually works.</p>

            <p>I've watched hundreds of sales teams struggle with the same workflow: A hot prospect visits your pricing page at 2 PM on Tuesday. Your sales rep discovers this Friday morning (if they're lucky), spends an hour researching the company, another 30 minutes finding contact info, and finally sends a generic "following up on your website visit" email the following week.</p>

            <p>By then, your competitor who caught the signal in real-time and responded with a personalized message within minutes has already booked the demo.</p>

            <div class="highlight">
                <p><strong>This isn't a training problem. It's an architecture problem.</strong> Traditional CRMs like Salesforce were built for a world where sales was about managing relationships over months. Today's B2B buyers research, evaluate, and decide in days.</p>
            </div>

            <p>The math is brutal: Companies using traditional CRMs are losing deals they should win, simply because they're too slow to recognize and act on buying signals.</p>

            <h2>The AI Revolution Isn't Coming. It's Here.</h2>

            <p>Three fundamental changes are reshaping how CRM works:</p>

            <p><strong>Signal Detection</strong>: AI now monitors hundreds of data sources (website behavior, social media activity, funding announcements, job postings, competitor mentions) to identify when prospects are in active buying mode. Instead of cold outreach, you're reaching people who are already looking for solutions.</p>

            <p><strong>Instant Personalization</strong>: AI can research a prospect's company, understand their challenges, and craft personalized messaging in seconds, not hours. We're talking about emails that feel like they were written by someone who's been following the company for months.</p>

            <p><strong>Automated Orchestration</strong>: The entire sequence from signal detection to personalized outreach to follow-up scheduling happens without human intervention. Sales reps focus on having conversations, not hunting for opportunities.</p>

            <p>When I see these capabilities in action, it's clear we're not talking about incremental improvement. This is a complete reimagining of how sales works.</p>

            <h2>The Winners Are Already Emerging</h2>

            <p>Let me show you three companies that are defining the future of CRM:</p>

            <div class="company-section">
                <h3>Unify: The Signal-Driven Revenue Machine</h3>

                <p>Unify caught my attention because their growth numbers are almost absurd. Founded in 2023, they hit <span class="stat">$5.6M ARR</span> by mid-2025 growing at <span class="stat">17% month-over-month</span>. That's not just good growth. That's "we solved a real problem" growth.</p>

                <p>Their approach is elegantly simple: When someone shows buying intent (pricing page visit, trial signup, competitor research), Unify's AI automatically researches the prospect, crafts personalized outreach, and executes multichannel sequences. No manual work required.</p>

                <p>The results speak for themselves. Customers like Perplexity and Cursor credit Unify with generating hundreds of millions in pipeline. One client added <span class="stat">$1.7M to their pipeline</span> within three months of implementation.</p>

                <p>What makes Unify special isn't just the technology. It's the business model alignment. They charge based on results generated, not seats filled. When customers win, Unify wins.</p>
            </div>

            <div class="company-section">
                <h3>Attio: Building the CRM Operating System</h3>

                <p>While Unify focused on solving outbound sales, Attio took a different approach: rebuild CRM infrastructure from scratch for the AI era.</p>

                <p>They've raised <span class="stat">$116M</span> (Google Ventures led their Series B) and serve over <span class="stat">5,000 companies</span> with a fully customizable, programmable CRM. Think of it as CRM Legos powered by AI.</p>

                <p>The platform auto-enriches contact data, eliminates manual entry, and lets users build custom workflows and even embed AI agents directly in the CRM. They're projecting to <span class="stat">quadruple ARR in 2025</span>, which tells me they've found something the market desperately wants.</p>

                <p>Their freemium model ($30-70 per user vs. Salesforce's $150+) is smart positioning. They're not trying to replace Salesforce for Fortune 500 companies. They're capturing the next generation of high-growth companies who want modern tools from day one.</p>
            </div>

            <div class="company-section">
                <h3>Amplemarket: The All-in-One Efficiency Play</h3>

                <p>Amplemarket represents a third approach: bundle everything a sales team needs into one AI-powered platform. Lead database, LinkedIn integration, email sequences, deliverability management, and an AI assistant called "Duo" that personalizes every touchpoint.</p>

                <p>Their <span class="stat">$14.9M revenue in 2024</span> with <span class="stat">132% year-over-year growth</span> (achieved with only $12M raised) shows impressive capital efficiency. At $300 per user monthly, they're premium-priced, but customers justify it because the platform generates far more value than it costs.</p>

                <p>What I find most interesting is their bottom-up adoption strategy. They market directly to sales reps, let them experience <span class="stat">3-5x productivity improvements</span>, then those reps advocate internally for company-wide adoption. It's classic product-led growth in the B2B space.</p>
            </div>

            <h2>Why This Matters Now</h2>

            <p>The CRM market is at an inflection point. <span class="stat">81% of organizations</span> plan to adopt AI-driven CRM systems in the coming years. But here's what most people miss: this isn't about adding AI features to existing CRMs. It's about replacing them entirely with AI-native platforms.</p>

            <p>The companies I'm tracking aren't just growing fast. They're growing efficiently. Unify reached $5.6M ARR with 40 employees. Attio serves 5,000+ companies. Amplemarket generated $14.9M revenue with 100 people. Compare that to traditional CRM implementations that require armies of consultants and months of setup.</p>

            <p>This efficiency advantage compounds. AI-native CRMs don't just work better. They cost less to deploy, require less training, and deliver value faster.</p>

            <h2>The Investment Opportunity</h2>

            <p>From an investment perspective, we're still early. The total addressable market is massive ($70B+ and growing), but most enterprise buyers haven't seriously evaluated AI-native alternatives yet.</p>

            <p>The companies that execute well in the next 18 months will capture disproportionate market share as the broader market catches up. I'm seeing this pattern across multiple verticals: AI-native companies don't just compete with incumbents. They make them obsolete.</p>

            <p>The risk, of course, is that Salesforce, HubSpot, and Microsoft accelerate their AI development and close the gap. But having worked on AI integration at enterprise scale, I know how hard it is to retrofit AI capabilities onto legacy architecture.</p>

            <p>AI-native startups have a structural advantage that's difficult to overcome.</p>
        </div>

        <div class="cta-section">
            <h2>What Happens Next</h2>

            <p>I believe we're about to see a rapid market shift. The companies currently using AI CRMs will have such significant competitive advantages (faster response times, higher conversion rates, lower customer acquisition costs) that their competitors will be forced to follow.</p>

            <p>This isn't a gradual transition. When the tipping point hits, adoption will accelerate quickly.</p>

            <p><strong>For business leaders:</strong> If you're not evaluating AI-native CRM alternatives, you're already behind. The question isn't whether to make the switch, but how quickly you can do it without disrupting current operations.</p>

            <p><strong>For investors:</strong> The AI CRM space offers rare combination of massive market size, clear technological disruption, and companies with proven traction. The winners in this space won't just be successful. They'll redefine how business gets done.</p>
        </div>`,
          likes: 23,
        }
      ],
      polls: [
        {
          id: "poll-ai-work",
          title: "Will AI replace most jobs?",
          description: "Exploring the impact of artificial intelligence on future work.",
          options: [
            { label: "Yes, most jobs will be replaced", votes: 15 },
            { label: "No, human creativity is irreplaceable", votes: 20 },
            { label: "Uncertain, need to wait and see", votes: 8 }
          ]
        }
      ]
    }

    // ======= Utilities =======
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const byId = id => document.getElementById(id);
    const storage = {
      get(key, fallback){ try{ return JSON.parse(localStorage.getItem(key)) ?? fallback }catch{ return fallback } },
      set(key, val){ localStorage.setItem(key, JSON.stringify(val)) }
    };
    const YEAR_EL = byId('year'); YEAR_EL.textContent = new Date().getFullYear();

    // Message box utility
    let messageTimeout;
    function showMessage(msg, type='ok'){
        const box = byId('messageBox');
        box.textContent = msg;
        box.className = 'show';
        clearTimeout(messageTimeout);
        messageTimeout = setTimeout(() => {
            box.classList.remove('show');
        }, 3000);
    }

    // ======= Non-persistent state =======
    let userLikedPosts = storage.get('likedPosts', {});
    let userVotedPolls = storage.get('votedPolls', {});

    function toggleLike(postId) {
        userLikedPosts[postId] = !userLikedPosts[postId];
        storage.set('likedPosts', userLikedPosts);
        renderPosts();
        if(modal.classList.contains('open')){
            updateModalInteractions(postId);
        }
    }

    function castVote(pollId, optionIndex) {
        if(userVotedPolls[pollId] !== undefined) {
            showMessage("You have already voted in this poll!");
            return;
        }

        userVotedPolls[pollId] = optionIndex;
        storage.set('votedPolls', userVotedPolls);

        const poll = DATA.polls.find(p => p.id === pollId);
        poll.options[optionIndex].votes += 1;

        renderPolls();
        showMessage("Vote cast successfully!");
    }


    // ======= Headline carousel =======
    function renderHeadlines(){
      const wrap = byId('headline');
      wrap.innerHTML = '';
      const heads = DATA.posts.filter(p=>p.isHeadline).slice(0,5);
      heads.forEach((p,i)=>{
        const slide = document.createElement('div');
        slide.className = 'headline-slide'+(i===0?' active':'');
        slide.innerHTML = `
          <img src="${p.coverImage}" alt="${p.title}" />
          <div class="headline-caption">
            <div style="font-weight:700;font-size:18px">${p.title}</div>
            <div class="small">${p.summary}</div>
            <div style="margin-top:8px"><button class="btn primary" data-article="${p.id}">Read Full Article</button></div>
          </div>`;
        wrap.appendChild(slide);
      });
      // autoplay
      let i=0; setInterval(()=>{
        const slides = $$('.headline-slide', wrap);
        slides.forEach(s=>s.classList.remove('active'));
        i = (i+1)%slides.length;
        slides[i].classList.add('active');
      }, 5000);

      wrap.addEventListener('click', e=>{
        if(e.target.matches('[data-article]')){
          openArticle(e.target.dataset.article);
        }
      });
    }

    // ======= Tabs & Posts =======
    function renderTabs(){
      const tabs = byId('tabs'); tabs.innerHTML='';
      const allCats = ['All', ...DATA.categories];
      const current = storage.get('tab', 'All');
      allCats.forEach(cat=>{
        const el = document.createElement('button');
        el.className = 'tab'+(current===cat?' active':'');
        el.textContent = cat;
        el.dataset.cat = cat;
        tabs.appendChild(el);
      });

      tabs.addEventListener('click', e=>{
        if(e.target.classList.contains('tab')){
          $$('.tab', tabs).forEach(t=>t.classList.remove('active'));
          e.target.classList.add('active');
          storage.set('tab', e.target.dataset.cat);
          renderPosts();
        }
      });
    }

    function renderPosts(){
      const cat = storage.get('tab','All');
      const list = byId('postList'); list.innerHTML='';
      let posts = [...DATA.posts].sort((a,b)=>new Date(b.date)-new Date(a.date));
      if(cat!=="All") posts = posts.filter(p=>p.category===cat);

      posts.forEach(p=>{
        const userHasLiked = userLikedPosts[p.id];
        const displayLikes = userHasLiked ? p.likes + 1 : p.likes;
        const row = document.createElement('div');
        row.className = 'post';
        row.innerHTML = `
          <img class="thumb" src="${p.coverImage}" alt="${p.title}" />
          <div style="flex:1">
            <h4>${p.title}</h4>
            <div class="meta">${p.date} „Éª ${p.category}</div>
            <p class="small">${p.summary}</p>
            <div class="interact">
              <button class="chip like ${userHasLiked ? 'liked' : ''}" data-like="${p.id}">üëç <span>${displayLikes}</span></button>
              <button class="chip" data-share="${p.id}">üîó Share</button>
              <button class="chip" data-open="${p.id}">Read</button>
            </div>
          </div>`;
        list.appendChild(row);
      });

      list.addEventListener('click', onPostListClick);
    }

    function onPostListClick(e){
      const likeBtn = e.target.closest('[data-like]');
      const shareBtn = e.target.closest('[data-share]');
      const openBtn = e.target.closest('[data-open]');
      if(likeBtn){ toggleLike(likeBtn.dataset.like); }
      if(shareBtn){ shareArticle(shareBtn.dataset.share); }
      if(openBtn){ openArticle(openBtn.dataset.open); }
    }

    // ======= Share =======
    function shareArticle(id){
      const post = DATA.posts.find(p=>p.id===id);
      const url = location.origin + location.pathname + `#${id}`;
      if(navigator.share){
        navigator.share({ title: post.title, text: post.summary, url });
      } else {
        document.execCommand('copy');
        showMessage('Link copied to clipboard!');
      }
    }

    // ======= Article Modal (with comments) =======
    const modal = byId('articleModal');
    const modalBody = byId('modalBody');
    byId('closeModal').onclick = ()=> modal.classList.remove('open');
    modal.addEventListener('click', e=>{ if(e.target===modal) modal.classList.remove('open'); });

    function openArticle(id){
      const p = DATA.posts.find(x=>x.id===id);
      if(!p) return;

      byId('modalTitle').textContent = p.title;
      modalBody.dataset.articleId = id; // Store the current article ID

      modalBody.innerHTML = `
        <img src="${p.coverImage}" alt="${p.title}" style="width:100%;border-radius:10px;object-fit:cover;max-height:320px"/>
        <div class="meta" style="margin-top:8px">${p.date} „Éª ${p.category}</div>
        <div style="margin-top:12px">${p.content}</div>
        <div class="interact" id="modal-interact-${p.id}"></div>
        <div class="comments">
          <h4>Comments</h4>
          <div class="small" style="color:var(--danger)">Comments are disabled in this static version.</div>
        </div>
      `;
      updateModalInteractions(id);
      modal.classList.add('open');
      location.hash = id;
    }

    function updateModalInteractions(id) {
        const p = DATA.posts.find(x => x.id === id);
        if (!p) return;
        const interactEl = byId(`modal-interact-${id}`);
        const userHasLiked = userLikedPosts[p.id];
        const displayLikes = userHasLiked ? p.likes + 1 : p.likes;

        interactEl.innerHTML = `
            <button class="chip like ${userHasLiked ? 'liked' : ''}" data-like="${p.id}">üëç <span>${displayLikes}</span></button>
            <button class="chip" data-share="${p.id}">üîó Share</button>
        `;

        interactEl.addEventListener('click', (e) => {
            const likeBtn = e.target.closest('[data-like]');
            const shareBtn = e.target.closest('[data-share]');
            if(likeBtn){ toggleLike(id); }
            if(shareBtn){ shareArticle(id); }
        });
    }

    // ======= Polls =======
    function renderPolls(){
      const box = byId('pollContainer'); box.innerHTML = '';
      DATA.polls.forEach(p=>{
        const pollData = p;
        const total = pollData.options.reduce((s,o)=>s+(o.votes || 0), 0);
        const userVote = userVotedPolls[p.id];
        const isVoted = userVote !== undefined;

        const wrap = document.createElement('div');
        wrap.className = 'card';
        wrap.style.marginTop = '8px';
        wrap.innerHTML = `
          <div style="font-weight:600">${p.title}</div>
          <div class="small" style="margin:4px 0 8px 0">${p.description}</div>
          <div>${p.options.map((o,idx)=>{
            const pct = total? Math.round((o.votes || 0)*100/total) : 0;
            const voted = userVote === idx;
            const disabled = isVoted;

            return `<div class='poll-option'>
              <input type='radio' name='${p.id}' value='${idx}' ${voted? 'checked':''} ${disabled? 'disabled':''} />
              <label style='flex:1'>${o.label}
                <div class='progress'><div class='bar' style='width:${pct}%' ></div></div>
                <span class='small'>${total? pct:0}%Ôºà${o.votes || 0}Ôºâ</span>
              </label>
            </div>`;
          }).join('')}</div>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn primary" data-vote='${p.id}' ${isVoted ? 'disabled':''}>Vote</button>
            <span class="small">${total} votes</span>
          </div>
        `;
        box.appendChild(wrap);
      });

      box.addEventListener('click', e=>{
        const btn = e.target.closest('[data-vote]');
        if(!btn) return;
        const pollId = btn.dataset.vote;
        const checked = box.querySelector(`input[name='${pollId}']:checked`);
        if(!checked){ showMessage('Please select an option first'); return; }
        const idx = Number(checked.value);
        castVote(pollId, idx);
      });
    }

    // ======= Init =======
    function init(){
      renderHeadlines();
      renderTabs();
      renderPosts();
      renderPolls();
      // Open modal if hash points to an article
      if(location.hash){
        const id = location.hash.replace('#','');
        if(DATA.posts.some(p=>p.id===id)) openArticle(id);
      }
    }

    init();
  </script>
</body>
</html>
